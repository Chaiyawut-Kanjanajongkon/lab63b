# การทดลองที่ 4 เรื่อง การเขียนโปรแกรมอินพุทสัญญาณดิจิทัล

## วัตถุประสงค์
1. ศึกษาการนำสัญญาณจากภายนอกมาใช้ในตัวไมโครคอนโทรเลอร์
2. ศึกษาการเขียนโปรแกรมอินพุทสัญญาณดิจิทัล

## อุปกรณ์ที่ใช้
1. ไมโครคอนโทรเลอร์ ESP-01
2. สาย USB 
3. Serial port
4. คอมพิวเตอร์
5. Adapter port 
6. เซนเซอร์รับแสง
7. LED

## ศึกษาข้อมูลเบื้องต้น
* https://www.youtube.com/watch?v=nFqoZT26U5k
* https://sites.google.com/site/elecso25/menu/8

## วิธีการทำการทดลอง
1. ต่อไมโครคอนโทรเลอร์ ESP-01 เข้ากับ Adapter port 0 และ 1 จากนั้นต่อทั้งหมดเข้ากับ Serial port แล้วต่อสาย USB เข้าคอมพิวเตอร์
   * ![lab3 1](https://user-images.githubusercontent.com/80879980/112292056-4a6b7600-8cc3-11eb-8237-0c01f0754c19.png)
2. เปิด code โปรแกรมของตัวอย่างที่ 4
   * ![lab4 1](https://user-images.githubusercontent.com/80879980/112328064-8bc24c80-8ce8-11eb-9d9c-f944d684d55b.png)
3. พิมพ์คำสั่ง pio run -t upload เพื่ออัพโหลดโปรแกรมลงไมโครคอนโทรเลอร์ ESP-01
4. กดปุ่ม upload และปุ่ม reset ที่ไมโครคอนโทรเลอร์ ESP-01 เพื่อรับโปรแกรม
   * ![lab3 3](https://user-images.githubusercontent.com/80879980/112292783-07f66900-8cc4-11eb-923a-8fa061152b36.png)
5. พิมพ์คำสั่ง pio device monitor เพื่อรันโปรแกรม
6. นำเซนเซอร์รับแสงมาต่อกับ Adapter port และต่อสาย input ที่ port เดียวกับตัวรับสัญญาณเซนเซอร์แสง
   * ![lab4 2](https://user-images.githubusercontent.com/80879980/112330539-b3b2af80-8cea-11eb-9b63-d34a073dd061.png)

## การบันทึกผลการทดลอง
จากการทดลอง เมื่อทำการอัพโหลดโปรแกรมลงบนไมโครคอนโทรเลอร์ ESP-01 จะพบว่าเมื่อยังไม่ได้ทำการต่อเซนเซอร์แสง เมื่อทำการนำสาย input แตะไปที่ port 0 (หรือทำการกดปุ่ม upload ที่ไมโครคอนโทรเลอร์ ESP-01) LED ก็จะสว่าง และเมื่อนำออก LED ก็จะดับ และเมื่อทำการต่อเซนเซอร์แสงแล้ว เมื่อเรานำเซนเซอร์ถูกแสงสว่างไฟ LED ก็จะสว่าง ถ้าใช้มือปิดไฟ LED ก็จะกับ
   * ![lab4s1](https://user-images.githubusercontent.com/80879980/112344709-f4182a80-8cf6-11eb-85e4-0083e0f2f98e.png)
   * ![lab4s2](https://user-images.githubusercontent.com/80879980/112344904-26c22300-8cf7-11eb-9be0-fa1349400d0a.png)

## อภิปรายผลการทดลอง
จากการทดลองจะเห็นได้ว่าการติดหรือดับของ LED ขึ้นอยู่กับการตั้งค่าไมโครคอนโทรเลอร์ ESP-01ว่า port ตัวใดที่จะส่งสัญญาณ input ไปที่ LED

## คำถามหลังการทดลอง
จงอธิบายหลักการทำงานของเซนเซอร์แสง
* ตอบ เป็นตัวต้านทานที่ค่าความต้านทาน จะเปลี่ยนไปตามความเข้มของแสงที่ตกกระทบ ลงบนตัวต้านทาน
